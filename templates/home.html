<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1" >
     <title>Menu</title>
     <!---for search box-->
    <link href="{{ url_for('static', filename='css/bootstrap.min.css') }}" rel="stylesheet" />
    <!----->
    <link rel="stylesheet" href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/home.css') }}">
      <!-- for font in home1 -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/common.css') }}">
    
    <link href="https://use.fontawesome.com/releases/v5.11.2/css/all.css" rel="stylesheet" />
    
    <style>
        .box-grid {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            gap: 20px;
            width:100%;
            padding-left: 50px 10px 50px 10px;

            }
            .box-content .las.la-user-circle {
        font-size: 90px;
        color:rgb(203, 203, 223); /* Adjust this value as needed */
    }
    .box-content .las.la-file-upload{
        font-size: 90px;
        color:rgb(203, 203, 223); /* Adjust this value as needed */
    }
   
    .box-content .las.la-users{
        font-size: 90px;
        color:rgb(203, 203, 223); /* Adjust this value as needed */
    }
    .box-content .las.la-clipboard-list{
        font-size: 90px;
        color:rgb(203, 203, 223); /* Adjust this value as needed */
    }
    .box-content .las.la-receipt{
        font-size: 90px;
        color:rgb(203, 203, 223); /* Adjust this value as needed */
    }
.box {
  flex-basis: calc(33.33% - 20px);
  flex-grow: 0;
  padding: 20px;
  background-color: #f0f0f0;
  border: 1px solid #ccc;
  text-align: center;
}

.box-header {
  background-color:orange;
  padding: 10px;
}

.box-content {
  padding: 10px;
 
}

.box-footer {
  background-color: #ddd;
  padding: 10px;
}
h4{
    color:darkblue;
}
.submenu {
    display: none;
    list-style-type: none;
    padding-left: 20px;
}


    </style>
</head>
<body>
    <input type="checkbox" id="nav-toggle">
    <div class="sidebar">
        <div class="sidebar-brand">
             <h2><span class="lab la-accusoft"></span> <span>Menu</span>
            </h2>
        </div>
        <div class="sidebar-menu">
            <ul>
                <li>
                    <a href="#" id="dashboard-link"><span class="las la-igloo"></span><span>Dashboard</span></a>
                </li>
    
                <li>
                    <a href="#" id="fdp-link"><span class="las la-users"></span><span>FDP</span></a>

                    
                   
                </li>
                <li>
                    <a href=""><span class="las la-clipboard-list"></span><span>Degree Certificate</span></a>
                   
                </li>
                <li>
                    <a href=""><span class="las la-receipt"></span><span>Web scrap</span></a>
                </li>
                <li>
                    <a href="#" id="profile-link"><span class="las la-user-circle"></span><span>View Profile</span></a>
                </li>
                
                <li>
                    <a href="#" id="uploads-link"><span class="las la-file-upload"></span><span>Uploads</span></a>
                </li>
                <li>
                    <a href="{{ url_for('logout') }} "><span class="las la-file-import"></span><span>Log out</span></a>
                </li>
            </ul>
        </div>
    </div>    
    <div class="main-content">
        <header>
            <h1>
                <div class="header-title">
                    <label for="nav-toggle">
                        <span class="las la-bars"></span>
                    </label>
                    Dashboard
                </h1>
           
            <div class="user-wrapper">
                <img src="{{ url_for('static', filename='img/MYPIC.jpeg') }}" width="40px" height="40px" alt="" />
                <div>
                    Hi,Staff id:{{ staff_id }}
                    <h4>Dhavasri M</h4>
                    <small>Super admin</small>
                </div>
            </div>
            </div>
        </header>
        <main>
            


            <div class="content" style=" padding: 20px  20px 20px 50px;" >
                
                 <div class="content" style=" padding: 20px  20px 20px 50px;">
                    <div id="dashboard" class="content-section">
                        <!-- Dashboard content -->
                        <div class="banner-container">
                            <h2 class="white pb-3">Search Your Queries Here</h2>
                    
                            <form id="search-form" action="property_list.php" method="GET">
                                <div class="input-group city-search">
                                    <input type="text" class="form-control input-city" id='city' name='city' placeholder="Enter your query to search" />
                                    <div class="input-group-append">
                                        <button type="submit" class="btn btn-secondary">
                                            <i class="fa fa-search"></i>
                                        </button>
                                    </div>
                                </div>
                            </form>
                        </div>
                        
                        <div class="box-grid">
                          <div class="box">
                            <div class="box-header">
                              <h2>FDP</h2>
                            </div>
                            <div class="box-content">
                                <span class="las la-users"></span>
                            </div>
                            <div class="box-footer">
                              
                                <a href="#" id="fdp-link-footer"><h4>CLICK HERE TO LOGIN </h4></a>
                            </div>
                          </div>
                          
                          <div class="box">
                            <div class="box-header">
                              <h2>Degree Certificate</h2>
                            </div>
                            <div class="box-content">
                                <span class="las la-clipboard-list"></span>
                            </div>
                            <div class="box-footer">
                                <a href="#" id="deg-link-footer"><h4>CLICK HERE TO LOGIN </h4></a>
                            </div>
                          </div>
                          <div class="box">
                            <div class="box-header">
                              <h2>Web Scrapping</h2>
                            </div>
                            <div class="box-content">
                                <span class="las la-receipt"></span>
                            </div>
                            <div class="box-footer">
                                <h4>CLICK HERE TO LOGIN</h4>
                           
                            </div>
                          </div>
                          <div class="box">
                            <div class="box-header">
                              <h2>Profile</h2>
                            </div>
                            <div class="box-content">
                              <span class="las la-user-circle"></span>
                            </div>
                            <div class="box-footer">
                                <a href="#" id="profile-link-footer"><h4>CLICK HERE TO LOGIN </h4></a>
                            </div>
                          </div>
                          
                          <div class="box">
                            <div class="box-header">
                              <h2>Uploads</h2>
                            </div>
                            <div class="box-content">
                                <span class="las la-file-upload">
                            </div>
                            <div class="box-footer">
                                <a href="#" id="uploads-link-footer"><h4>CLICK HERE TO LOGIN </h4></a>
                            </div>
                          </div>
                          <div class="box">
                            <div class="box-header">
                              <h2>Web Scrapping</h2>
                            </div>
                            <div class="box-content">
                              <p>This is the content of Box 3.</p>
                            </div>
                            <div class="box-footer">
                                <h4>CLICK HERE TO LOGIN</h4>
                           
                            </div>
                          </div>
                          
                          <!-- Add more box elements as needed -->
                        </div>
                    </div>
                    
                    <div id="fdp" class="content-section">
                        <!-- FDP content -->
                           <div class="abc">
                            
                            <a href="/download_excel">Download Excel</a>

                            <h1>File Upload and View</h1>

                            <!-- File Upload Form -->
                            <form action="/uploads" method="POST" enctype="multipart/form-data">
                                <input type="file" name="file" id="file" accept=".pdf, .doc, .docx, .jpg, .jpeg">
                                <input type="submit" value="Upload">
                            </form>
                        
                            <!-- View File Form -->
                            <form action="/view" method="POST">
                                <label for="filename">Enter Filename to View:</label>
                                <input type="text" name="filename" id="filename" required>
                                <input type="submit" value="View">
                            </form>
                        
                            <!-- View Button (for latest uploaded file) -->
                            
                            <a href="/view-latest" target="_blank">
                                <button>
                                    <i class="las la-eye">View the latest upload file</i>
                                </button>
                            </a>
                        </div>
                        {% if message %}
                        <div class="message">{{ message }}</div>
                        {% endif %}
                        {% if invalid_password  %}
                        <div class="invalid_password">{{ invalid_password }}</div>
                       {% endif %}



                        </br>
                    </br>
                </br>
                        
                            <a href="/list_uploads" > 
                                <button>
                                    <i class="las la-eye">View all uploaded files</i>
                                </button>
                            <ul>
                                <h2>Uploaded Files:</h2>
                                <ul>
                                    {% for filename in uploaded_files %}
                                        <li>{{ filename }}</li>
                                    {% endfor %}
                                </ul>
                            </ul>
                        </a>
                           
                           
                                  
                          
                                  
                      
                    </div>
                    <div id="uploads" class="content-section">
                        <h1>Uploaded Files</h1>
                        {% if uploaded_files %}
                            <ul>
                                {% for filename in uploaded_files %}
                                    <li>
                                        <a href="{{ url_for('static', filename='uploads/' + filename) }}">{{ filename }}</a>
                                        <button class="view-button" onclick="viewfile('{{ filename }}')">View File on window </button>
                                        <button class="view-button" onclick="viewFile('{{ filename }}')">View File on console</button>
                                    </li>
                                {% endfor %}
                            </ul>
                        {% else %}
                            <p>No uploaded files available.</p>
                        {% endif %}
                        <button class="back-button" onclick="window.location.href='{{ url_for('login') }}'">Back to Login Page</button>
                    </div>
                    
                </div>
                <!-- Modal -->
                
                <div id="fileModal" class="modal">
                    <div class="modal-content">
                        <span class="close-button" id="closeModal">&times;</span>
                        <iframe id="fileIframe" src="" frameborder="0"></iframe>
                    </div>
                </div>
                <div id="profile" class="content-section">
                    <h1>My Profile</h1>
                    <div class="row">
                        <div class="col-md-3 profile-img-container">
                            <i class="fas fa-user profile-img"></i>
                        </div>
                        <div class="col-md-9">
                            <div class="row no-gutters justify-content-between align-items-end">
                                <div class="profile">
                                    Staff id:{{ staff_id }}
                                    <h1>Name: {{ session['name'] }}</h1>
                                    <p>Email: {{ session['email'] }}</p>
                                    <p>Contact Number: {{ session['contact_number'] }}</p>
                                    <p>Designation: {{ session['designation'] }}</p>
                                    <p>Company: {{ session['company'] }}</p>
                                    
                                </div>
                                <div class="edit">
                                    <a href="{{ url_for('edit_profile') }}">Edit Profile</a>

                                    <!-- edit_profile.html -->
<form method="POST">
    <label for="name">Name:</label>
    <input type="text" name="name" value="{{ user.name }}" required>

    <label for="email">Email:</label>
    <input type="email" name="email" value="{{ user.email }}" required>

    <label for="contact_number">Contact Number:</label>
    <input type="text" name="contact_number" value="{{ user.contact_number }}">

    <label for="designation">Designation:</label>
    <input type="text" name="designation" value="{{ user.designation }}">

    <label for="company">Company:</label>
    <input type="text" name="company" value="{{ user.company }}">

    <button type="submit">Save Changes</button>
</form>

                                </div>
                            </div>
                        </div>
                    </div>

                </div>
         <!-- Add more content sections for other menu items -->
             </div>
 
         </main>
    </div>
    <script>
          













        const dashboardLink = document.getElementById('dashboard-link');
        const fdpLink = document.getElementById('fdp-link');
        const uploadsLink = document.getElementById('uploads-link');
        const profileLink = document.getElementById('profile-link');
        const fdpLinkFooter = document.getElementById('fdp-link-footer');
        const uploadsLinkFooter = document.getElementById('uploads-link-footer');
        const profileLinkFooter = document.getElementById('profile-link-footer');
        
        const dashboardSection = document.getElementById('dashboard');
        const fdpSection = document.getElementById('fdp');
        const uploadsSection = document.getElementById('uploads');
        const profileSection = document.getElementById('profile');














        
       
        dashboardLink.addEventListener('click', () => {
            fdpSection.style.display = 'none';
            uploadsSection.style.display = 'none';
            profileSection.style.display='none';

            dashboardSection.style.display = 'block';
        });

        fdpLink.addEventListener('click', () => {
            dashboardSection.style.display = 'none';
            uploadsSection.style.display = 'none';
            profileSection.style.display='none';
            fdpSection.style.display = 'block';
        });
        fdpLinkFooter.addEventListener('click', () => {
            dashboardSection.style.display = 'none';
            uploadsSection.style.display = 'none';
            profileSection.style.display='none';
            fdpSection.style.display = 'block';
        });
        uploadsLink.addEventListener('click', () => {
        dashboardSection.style.display = 'none';
        fdpSection.style.display = 'none';
        profileSection.style.display='none';
        uploadsSection.style.display = 'block';
    });
    uploadsLinkFooter.addEventListener('click', () => {
        dashboardSection.style.display = 'none';
        fdpSection.style.display = 'none';
        profileSection.style.display='none';
        uploadsSection.style.display = 'block';
    });

    profileLink.addEventListener('click', () => {
        dashboardSection.style.display = 'none';
        fdpSection.style.display = 'none';
        uploadsSection.style.display = 'none';
        profileSection.style.display='block';
       
    });
    profileLinkFooter.addEventListener('click', () => {
        dashboardSection.style.display = 'none';
        fdpSection.style.display = 'none';
        uploadsSection.style.display = 'none';
        profileSection.style.display='block';
       
    });
    
    dashboardSection.style.display = 'block';
    fdpSection.style.display = 'none';
    uploadsSection.style.display = 'none';



    function viewfile(filename) {
        // Create a URL that points to the file's location
        var fileURL = "{{ url_for('static', filename='uploads/') }}" + filename;
        
        // Open the file in a new tab or window
        window.open(fileURL);
    }
        function viewFile(filename) {
        var fileURL = "{{ url_for('static', filename='uploads/') }}" + filename;
        var modal = document.getElementById('fileModal');
        var iframe = document.getElementById('fileIframe');

        iframe.src = fileURL;
        modal.style.display = 'block';
    }

    document.getElementById('closeModal').addEventListener('click', () => {
        var modal = document.getElementById('fileModal');
        var iframe = document.getElementById('fileIframe');

        iframe.src = '';
        modal.style.display = 'none';
    });



    
	</script>
    <!-- Your existing HTML code remains the same -->
    <!--<script src="{{ url_for('static', filename='js/script.js') }}"></script> -->
 


</body>
</html>
